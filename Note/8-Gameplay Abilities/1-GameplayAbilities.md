# Gameplay Ability 

现在这些是游戏能力系统的核心。
游戏能力是角色在游戏中可以执行的动作或技能。
这是一个从你的游戏能力派生出来的类，它定义了一个能力的功能以及可以使用该能力的条件。
因此，与使用简单函数实现动作不同，一个GAS游戏能力是一个异步运行的实例对象。
这意味着它可以在某个时间点被激活，并运行跨越时间段的多阶段任务，可能会或可能不会跨越时间段。
这些可能会分支成不同的任务，应用它们自己的游戏效果，一旦我们了解了游戏队列，我们将看到它们也可以启动那些任务。
而且这些可以是有条件的。
它们可能基于玩家或环境交互，游戏能力具有内置的复制和预测支持，就像游戏效果一样。
游戏能力还具有成本和冷却的内置概念，其中属性资源必须以足够的数量存在以支付能力的激活。
在这门课程中，我们将使用法力作为资源来实现这种成本机制，但实际上可以是任何东西，并且冷却时间会阻止能力在冷却期结束之前再次被激活。
游戏能力使用能力任务，尽管它们不一定需要能力任务，但能力任务是从你的能力任务类派生出来的，它是更专门形式的更一般的游戏任务类。
在游戏能力执行期间执行异步工作。
它们可以通过广播委托来影响执行流程。
这些任务可以在 C++中使用，但它们也可以以蓝图的形式出现，形式是一个特殊的蓝图节点，可以具有多个输出执行引脚。
这些是根据开发人员确定的事件而进行的委托广播的结果。
基本上，游戏中会发生一些事情。
您的能力任务将广播一个委托，并在蓝图中执行。
这意味着任务节点上的特定输出执行引脚将被执行。
这使我们能够在蓝图中轻松地映射出能力的控制流程，并且我们仍然可以享受到 C++ 的最佳性能的好处，因为任务所做的工作通常是在 C++ 方面完成的，尽管不一定是这样。
但是因为我们可以将这些能力任务制作成 C++ 并让它们在 C++ 中完成大部分工作，我们获得了灵活性，能够在能力蓝图中设计游戏能力的机制，并允许那些无法访问 C++ 领域的设计师在不牺牲性能的情况下对能力拥有更多控制权。
要使用游戏能力，必须向实体授予该能力。
当这种情况发生时，会创建一个游戏能力规范，并且该规范定义了与该特定能力相关的详细信息，包括游戏能力类本身、能力的级别以及可以在运行时更改的任何动态信息。
通常情况下，能力是在服务器上授予的，但是当发生这种情况时，能力规范会复制到拥有者客户端，以便他们可以从自己的游戏能力中激活它。
一旦激活，能力将保持激活状态，直到它们被结束或取消。
能力可以自行结束，也可以被外部取消。
因此，总结起来，游戏能力是定义由角色执行的特定技能、法术或任何类型的能力的类。
能力必须授予给能力系统组件以供使用，我们在服务器上进行此操作，此时授予一个能力规范并复制到拥有的客户端。
使用能力时，必须激活它。
直到结束或取消，它被视为处于活动状态。
能力具有成本和冷却时间的内置概念。
能力可以异步运行，并且多个能力可以同时处于活动状态。
一个能力可以运行能力任务，这些任务是封装行为到单独类中的异步操作，每个类都可以执行自己特定的工作。

![image-20240411102013069](.\image-20240411102013069.png)



1. **Gameplay Abilities**: GAS中的Gameplay Abilities是定义技能或能力的类。这些类定义了特定的能力，如攻击、治疗、防御等。

2. **Must be granted**: 所有的Gameplay Abilities都必须被授予才能使用。这些能力通常由服务器授予，并复制到拥有该能力的客户端。

3. **Must be activated to be used**: 能力必须被激活才能使用。激活能力通常需要消耗一定的资源（如法力、能量、冷却时间等）。

4. **Cost and Cooldown**: 能力的使用通常需要消耗资源，如法力、能量等，并且有冷却时间限制。

5. **Abilities run asynchronously**: 能力运行是异步的，这意味着多个能力可以同时处于激活状态。

6. **Ability Tasks**: GAS还提供了Ability Tasks，用于异步执行操作。这些任务可以在能力激活期间或之后异步执行，例如计算伤害、施放特效等。

总结：
- GAS中的Gameplay Abilities是定义游戏技能或能力的类。
- 能力必须被授予并激活才能使用。
- 能力的使用通常需要消耗资源，并有冷却时间限制。
- GAS支持异步运行能力，允许多个能力同时处于激活状态。
- Ability Tasks是异步执行的操作，可以在能力激活期间或之后异步执行。